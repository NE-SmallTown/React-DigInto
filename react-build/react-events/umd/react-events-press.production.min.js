/** @license React vundefined
 * react-events-press.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(l,m){"object"===typeof exports&&"undefined"!==typeof module?module.exports=m(require("react")):"function"===typeof define&&define.amd?define(["react"],m):l.ReactEventsPress=m(l.React)})(this,function(l){function m(b){return"function"===typeof b}function v(b,c,d,a,f,k){var h=a.pressTarget,e=a.pointerType,g=a.touchEvent,m=null!=b&&!0===b.nativeEvent.defaultPrevented||"press"===f&&a.shouldPreventClick,r=d.getTimeStamp(),n=null,q=null,p=null,t=null,u=null,l=null,v=!1,w=!1,x=!1,
y=!1;b&&(b=b.nativeEvent,v=b.altKey,w=b.ctrlKey,x=b.metaKey,y=b.shiftKey,g=g||b)&&(n=g.clientX,q=g.clientY,p=g.pageX,t=g.pageY,u=g.screenX,l=g.screenY);d.dispatchEvent({altKey:v,buttons:a.buttons,clientX:n,clientY:q,ctrlKey:w,defaultPrevented:m,metaKey:x,pageX:p,pageY:t,pointerType:e,screenX:u,screenY:l,shiftKey:y,target:h,timeStamp:r,type:f,x:n,y:q},c,k)}function x(b,c,d,a){a.isPressed=!0;if(!a.isActivePressStart){a.isActivePressStart=!0;var f=b.nativeEvent,k=a.touchEvent||f;f=k.clientX;var h=k.clientY;
k=a.isActivePressed;a.isActivePressed=!0;void 0!==f&&void 0!==h&&(a.activationPosition={x:f,y:h});f=d.onPressStart;m(f)&&v(b,f,c,a,"pressstart",0);k||(b=d.onPressChange,m(b)&&c.dispatchEvent(a.isActivePressed,b,0))}}function u(b,c,d,a){a.isActivePressStart=!1;a.isPressed=!1;if(a.isActivePressed){a.isActivePressed=!1;var f=d.onPressEnd;m(f)&&v(b,f,c,a,"pressend",0);b=d.onPressChange;m(b)&&c.dispatchEvent(a.isActivePressed,b,0)}a.responderRegionOnDeactivation=null}function w(b){var c=b.key,d=b.target;
b=d.tagName;d=d.isContentEditable;return("Enter"===c||" "===c||"Spacebar"===c)&&"INPUT"!==b&&"TEXTAREA"!==b&&!0!==d}function y(b,c,d){b=b.objectAssign({},E,d.pressRetentionOffset);var a=c.getBoundingClientRect();c=a.left;d=a.right;var f=a.bottom;a=a.top;b&&(null!=b.bottom&&(f+=b.bottom),null!=b.left&&(c-=b.left),null!=b.right&&(d+=b.right),null!=b.top&&(a-=b.top));return{bottom:f,top:a,left:c,right:d}}function t(b,c){c.addedRootEvents&&(c.addedRootEvents=!1,b.removeRootEventTypes(z))}function A(b,
c){b=b.changedTouches;for(var d=0;d<b.length;d++){var a=b[d];if(a.identifier===c)return a}return null}function B(b,c,d,a){null==a.responderRegionOnDeactivation&&(a.responderRegionOnDeactivation=y(c,a.pressTarget,d));c=a.responderRegionOnActivation;d=a.responderRegionOnDeactivation;if(null!=c){var f=c.left;var k=c.top;var h=c.right;var e=c.bottom;null!=d&&(f=Math.min(f,d.left),k=Math.min(k,d.top),h=Math.max(h,d.right),e=Math.max(e,d.bottom))}c=b.clientX;b=b.clientY;a.isPressWithinResponderRegion=null!=
f&&null!=h&&null!=k&&null!=e&&null!==c&&null!==b&&c>=f&&c<=h&&b>=k&&b<=e}var C="undefined"!==typeof window&&void 0!==window.PointerEvent,F="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,E={bottom:20,top:20,left:20,right:20},z=C?"pointerup pointermove pointercancel click keyup scroll".split(" "):"click keyup scroll mousemove touchmove touchcancel dragstart mouseup_active touchend".split(" "),D=l.unstable_createResponder("Press",{targetEventTypes:C?["keydown_active",
"pointerdown_active","click_active"]:["keydown_active","touchstart","mousedown","click_active"],getInitialState:function(){return{activationPosition:null,addedRootEvents:!1,buttons:0,isActivePressed:!1,isActivePressStart:!1,isPressed:!1,isPressWithinResponderRegion:!0,pointerType:"",pressTarget:null,responderRegionOnActivation:null,responderRegionOnDeactivation:null,ignoreEmulatedMouseEvents:!1,activePointerId:null,shouldPreventClick:!1,touchEvent:null}},onEvent:function(b,c,d,a){var f=b.pointerId,
k=b.pointerType,h=b.type;if(d.disabled)t(c,a),u(b,c,d,a),a.ignoreEmulatedMouseEvents=!1;else{var e=b.nativeEvent,g=a.isPressed;!0===d.stopPropagation&&e.stopPropagation();switch(h){case "pointerdown":case "keydown":case "mousedown":case "touchstart":if(g)w(e)&&" "===e.key&&e.preventDefault();else{var l="touchstart"===h,r="pointerdown"===h,n="keyboard"===k;g="mouse"===k;if("mousedown"!==h||!a.ignoreEmulatedMouseEvents){a.shouldPreventClick=!1;if(l)a.ignoreEmulatedMouseEvents=!0;else if(n)if(w(e)){h=
e.altKey;n=e.ctrlKey;var q=e.metaKey,p=e.shiftKey;" "===e.key?e.preventDefault():!1===d.preventDefault||p||q||n||h||(a.shouldPreventClick=!0)}else break;a.pointerType=k;k=a.pressTarget=b.responderTarget;if(r)a.activePointerId=f;else if(l){f=e.targetTouches;f=0<f.length?f[0]:null;if(null===f)break;a.touchEvent=f;a.activePointerId=f.identifier}2===e.buttons||4<e.buttons||F&&g&&e.ctrlKey||(null!==k&&9!==k.nodeType&&(a.responderRegionOnActivation=y(c,k,d)),a.responderRegionOnDeactivation=null,a.isPressWithinResponderRegion=
!0,a.buttons=e.buttons,x(b,c,d,a),a.addedRootEvents||(a.addedRootEvents=!0,c.addRootEventTypes(z)))}}break;case "click":a.shouldPreventClick&&e.preventDefault(),g=d.onPress,m(g)&&0===e.detail&&0===e.screenX&&0===e.screenY&&0===e.clientX&&0===e.clientY&&(a.pointerType="keyboard",a.pressTarget=b.responderTarget,!1!==d.preventDefault&&e.preventDefault(),v(b,g,c,a,"press",0))}}},onRootEvent:function(b,c,d,a){var f=b.pointerId,k=b.pointerType,h=b.target,e=b.type,g=b.nativeEvent,l=a.isPressed,r=a.activePointerId,
n=a.pointerType;!0===d.stopPropagation&&g.stopPropagation();switch(e){case "pointermove":case "mousemove":case "touchmove":if(n!==k)break;if("pointermove"===e&&r!==f)break;else if("touchmove"===e){var q=A(g,r);if(null===q)break;a.touchEvent=q}var p=a.pressTarget;null!==p&&null!==p&&9!==p.nodeType&&("mouse"===k&&c.isTargetWithinNode(h,p)?a.isPressWithinResponderRegion=!0:B(q||g,c,d,a));a.isPressWithinResponderRegion?l?(d=d.onPressMove,m(d)&&v(b,d,c,a,"pressmove",1)):x(b,c,d,a):u(b,c,d,a);break;case "pointerup":case "keyup":case "mouseup":case "touchend":if(l){if(l=
a.buttons,q=!1,"pointerup"!==e||r===f){if("touchend"===e){p=A(g,r);if(null===p)break;h=a.touchEvent=p;h=c.getActiveDocument().elementFromPoint(h.clientX,h.clientY)}else if("keyup"===e){if(!w(g))break;q=!0;t(c,a)}else 4===l&&t(c,a);c.isTargetWithinResponder(h)&&c.isTargetWithinHostComponent(h,"a")&&(f=g.altKey,e=g.ctrlKey,r=g.metaKey,n=g.shiftKey,!1===d.preventDefault||n||r||e||f||(a.shouldPreventClick=!0));f=a.pressTarget;u(b,c,d,a);e=d.onPress;null!==f&&m(e)&&(q||null===f||null===f||9===f.nodeType||
("mouse"===k&&c.isTargetWithinNode(h,f)?a.isPressWithinResponderRegion=!0:B(p||g,c,d,a)),a.isPressWithinResponderRegion&&4!==l&&v(b,e,c,a,"press",0));a.touchEvent=null}}else"mouseup"===e&&(a.ignoreEmulatedMouseEvents=!1);break;case "click":"keyboard"!==n&&t(c,a);break;case "scroll":if("mouse"===n)break;k=a.pressTarget;g=g.target;h=c.getActiveDocument();null===k||g!==h&&!c.isTargetWithinNode(k,g)||(a.touchEvent=null,a.isPressed&&(a.ignoreEmulatedMouseEvents=!1,u(b,c,d,a)),t(c,a));break;case "pointercancel":case "touchcancel":case "dragstart":a.touchEvent=
null,a.isPressed&&(a.ignoreEmulatedMouseEvents=!1,u(b,c,d,a)),t(c,a)}},onUnmount:function(b,c,d){d.isPressed&&(t(b,d),u(null,b,c,d))}});return{PressResponder:D,usePress:function(b){return l.unstable_useResponder(D,b)}}});
